import{M as d,F as k,af as S,ag as y,ah as A,ai as m,aj as E,ak as M,N as b,al as N,q as T,C as g,T as t,U as L}from"./DEYVqDYQ.js";const I=Symbol("is custom element"),C=Symbol("is html"),H=m?"link":"LINK";function w(a){if(d){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var c=a.value;u(a,"value",null),a.value=c}if(a.hasAttribute("checked")){var s=a.checked;u(a,"checked",null),a.checked=s}}};a.__on_r=r,k(r),S()}}function u(a,e,r,c){var s=O(a);d&&(s[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName===H)||s[e]!==(s[e]=r)&&(e==="loading"&&(a[y]=r),r==null?a.removeAttribute(e):typeof r!="string"&&U(a).includes(e)?a[e]=r:a.setAttribute(e,r))}function O(a){return a.__attributes??(a.__attributes={[I]:a.nodeName.includes("-"),[C]:a.namespaceURI===A})}var h=new Map;function U(a){var e=a.getAttribute("is")||a.nodeName,r=h.get(e);if(r)return r;h.set(e,r=[]);for(var c,s=a,o=Element.prototype;o!==s;){c=M(s);for(var l in c)c[l].set&&r.push(l);s=E(s)}return r}function G(a,e,r=e){var c=new WeakSet;b(a,"input",async s=>{var o=s?a.defaultValue:a.value;if(o=_(a)?i(o):o,r(o),t!==null&&c.add(t),await N(),o!==(o=e())){var l=a.selectionStart,f=a.selectionEnd,n=a.value.length;if(a.value=o??"",f!==null){var v=a.value.length;l===f&&f===n&&v>n?(a.selectionStart=v,a.selectionEnd=v):(a.selectionStart=l,a.selectionEnd=Math.min(f,v))}}}),(d&&a.defaultValue!==a.value||T(e)==null&&a.value)&&(r(_(a)?i(a.value):a.value),t!==null&&c.add(t)),g(()=>{var s=e();if(a===document.activeElement){var o=L??t;if(c.has(o))return}_(a)&&s===i(a.value)||a.type==="date"&&!s&&!a.value||s!==a.value&&(a.value=s??"")})}function _(a){var e=a.type;return e==="number"||e==="range"}function i(a){return a===""?null:+a}export{G as b,w as r,u as s};
